---
# file: primogen/tests/tasks
#
# Test tasks to verify role execution.
#

- name: register currently installed Java version
  shell: java -version 2>&1 | head -n 1 | awk '{ print $3 }' | awk -F \" '{ print $2 }'
  register: result_java_version
  changed_when: no

- name: fail in case the Java version is not what is it is expected
  fail:
    msg="java -version output was {{ result_java_version.stdout }} instead of {{ expected_java_version }}"
  when: result_java_version.stdout != expected_java_version
